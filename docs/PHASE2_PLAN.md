# Phase 2: 機能の完成度向上 - 実装計画

## P1-3: Influencer/Creator ダッシュボードの改善

### 改善項目

#### 1. 紹介リンク生成フローの改善
**現状**: `/market` にリダイレクトするだけ
**改善**:
- 商品選択モーダルを追加
- 紹介リンク生成API呼び出し
- 生成されたリンクを表示（コピーボタン付き）
- QRコード表示機能
- リンクをSNSにシェアするボタン

#### 2. KPI表示の改善
**現状**: 売上・報酬見込みは表示されている
**追加**:
- クリック数（紹介リンクのクリック数）
- コンバージョン率（クリック数/注文数）
- 平均注文単価（既存だが、より目立つように）
- 週間/月間比較

#### 3. 型の厳密化
**現状**: `any`型が多用されている
**改善**:
- `products: any[]` → `Product[]` 型を定義
- `user: any` → `User` 型を定義
- Supabase型定義を活用

#### 4. エラーハンドリングの改善
**現状**: `alert()` や `console.error()` のみ
**改善**:
- トースト通知コンポーネントの追加
- インラインエラー表示
- リトライ機能

#### 5. ローディング状態の改善
**現状**: シンプルな「読み込み中...」
**改善**:
- スケルトンローディング
- プログレスバー
- 部分的なローディング状態

### 実装順序

1. 型定義の追加（`src/types/dashboard.ts`）
2. 紹介リンク生成モーダルコンポーネントの作成
3. トースト通知コンポーネントの追加
4. KPI表示の改善
5. エラーハンドリングの統一
6. ローディング状態の改善

